{
	"name": "main",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "input"
		},
		{
			"eventType": "variable",
			"name": "score_team_0",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 427507546872631
		},
		{
			"eventType": "variable",
			"name": "score_team_1",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 838336454094952
		},
		{
			"eventType": "variable",
			"name": "BALL_ANGLE_MODIFIER",
			"type": "number",
			"initialValue": "30",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 816086857656353
		},
		{
			"eventType": "comment",
			"text": "Move to js"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-two-values",
					"objectClass": "System",
					"sid": 298173880228579,
					"parameters": {
						"first-value": "score_team_0",
						"comparison": 5,
						"second-value": "10"
					}
				}
			],
			"actions": [
				{
					"callFunction": "matchEndTrigger",
					"sid": 832605890908497,
					"parameters": [
						"0"
					]
				}
			],
			"sid": 872866147326455
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-two-values",
					"objectClass": "System",
					"sid": 762826025186918,
					"parameters": {
						"first-value": "score_team_1",
						"comparison": 5,
						"second-value": "10"
					}
				}
			],
			"actions": [
				{
					"callFunction": "matchEndTrigger",
					"sid": 891724774917424,
					"parameters": [
						"1"
					]
				}
			],
			"sid": 273775774078854
		},
		{
			"eventType": "comment",
			"text": "Move to js"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-outside-layout",
					"objectClass": "ball",
					"sid": 204761840947937
				}
			],
			"actions": [],
			"sid": 833386183600185,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 189852107641789,
							"parameters": {
								"first-value": "ball.Y",
								"comparison": 4,
								"second-value": "LayoutHeight / 2"
							}
						}
					],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 836450717319672,
							"parameters": {
								"variable": "score_team_0",
								"value": "1"
							}
						},
						{
							"id": "destroy",
							"objectClass": "ball",
							"sid": 242774241967144
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 524965328973902,
							"parameters": {
								"seconds": "1.0"
							}
						},
						{
							"callFunction": "matchRespawnBall",
							"sid": 725595260754460,
							"parameters": [
								"0"
							]
						}
					],
					"sid": 130122759365814
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 315550097418818,
							"parameters": {
								"first-value": "ball.Y",
								"comparison": 2,
								"second-value": "LayoutHeight / 2"
							}
						}
					],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 877399351870693,
							"parameters": {
								"variable": "score_team_1",
								"value": "1"
							}
						},
						{
							"id": "destroy",
							"objectClass": "ball",
							"sid": 168727534909686
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 675308281104378,
							"parameters": {
								"seconds": "1.0"
							}
						},
						{
							"callFunction": "matchRespawnBall",
							"sid": 491598231566983,
							"parameters": [
								"1"
							]
						}
					],
					"sid": 328345710889960
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Move to js"
		},
		{
			"functionName": "matchRespawnBall",
			"functionDescription": "",
			"functionCategory": "match",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "team",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 290140892187384
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"type": "script",
					"script": "Ball.create(runtime, runtime.layout.width/2, runtime.layout.height/2, localVars.team ? 270 : 90);"
				}
			],
			"sid": 998481011865410
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "ball",
					"sid": 923842719596646,
					"parameters": {
						"object": "pad"
					}
				}
			],
			"actions": [],
			"sid": 414972094871895,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 316031218827740,
							"parameters": {
								"first-value": "pad.8Direction.VectorX",
								"comparison": 4,
								"second-value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "rotate-clockwise",
							"objectClass": "ball",
							"sid": 835204879284087,
							"parameters": {
								"degrees": "BALL_ANGLE_MODIFIER"
							}
						}
					],
					"sid": 737285614205035
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 784723245998573,
							"parameters": {
								"first-value": "pad.8Direction.VectorX",
								"comparison": 2,
								"second-value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "rotate-counter-clockwise",
							"objectClass": "ball",
							"sid": 402864364549031,
							"parameters": {
								"degrees": "BALL_ANGLE_MODIFIER"
							}
						}
					],
					"sid": 247471147727535
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 661569446897206,
							"parameters": {
								"first-value": "pad.8Direction.VectorX",
								"comparison": 0,
								"second-value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "rotate-counter-clockwise",
							"objectClass": "ball",
							"sid": 362600149375741,
							"parameters": {
								"degrees": "choose(0,1) = 0 ? BALL_ANGLE_MODIFIER / 5 :  - BALL_ANGLE_MODIFIER / 5"
							}
						}
					],
					"sid": 667285581412068
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Move to js"
		},
		{
			"functionName": "matchEndTrigger",
			"functionDescription": "Ends a match.",
			"functionCategory": "match",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "winner",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 424776297410199
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 850757960092056,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 318898133523447,
							"parameters": {
								"object": "text",
								"expression": "text.type = \"winner\" & text.index = 0"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "text",
							"sid": 827979247780998,
							"parameters": {
								"text": "\"Player \" & winner + 1 & \" wins!\""
							}
						},
						{
							"id": "set-visible",
							"objectClass": "text",
							"sid": 181207642051785,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 577128891008349,
							"parameters": {
								"seconds": "1.0"
							}
						},
						{
							"id": "go-to-layout",
							"objectClass": "System",
							"sid": 125519273739414,
							"parameters": {
								"layout": "menu"
							}
						}
					],
					"sid": 805903797885582
				}
			]
		}
	],
	"sid": 762210017106457
}